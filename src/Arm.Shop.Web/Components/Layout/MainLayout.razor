@inherits LayoutComponentBase
@inject Arm.Shop.Core.Services.IEmpresaService EmpresaService

@* ESTA ES LA LÍNEA QUE DEBES AGREGAR *@
<PageTitle>@pageTitle</PageTitle>

<NavMenu />

<main>
    @Body
</main>

<Footer Empresa="empresa" />

@code {
    private string pageTitle = "Arm.Shop"; // Título por defecto
    private Arm.Shop.Core.DTOs.EmpresaMetadataDto? empresa;

    protected override async Task OnInitializedAsync()
    {
        empresa = await EmpresaService.GetMetadataAsync();
        if (empresa != null && !string.IsNullOrEmpty(empresa.Nombre))
        {
            pageTitle = empresa.Nombre;
        }
    }
}